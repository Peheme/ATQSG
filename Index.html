<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tableau de Bord ATQSG</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #f5f5f5; padding: 20px; }
        .container { max-width: 1400px; margin: 0 auto; background: white; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); overflow: hidden; }
        .header { background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%); color: white; padding: 30px; text-align: center; }
        .header h1 { font-size: 28px; margin-bottom: 10px; }
        .header p { opacity: 0.9; font-size: 14px; }
        .tabs { display: flex; background: #e8e8e8; border-bottom: 2px solid #ddd; overflow-x: auto; }
        .tab { padding: 15px 25px; cursor: pointer; border: none; background: transparent; font-size: 14px; font-weight: 600; color: #666; white-space: nowrap; transition: all 0.3s; }
        .tab:hover { background: #d8d8d8; }
        .tab.active { background: white; color: #1e3c72; border-bottom: 3px solid #1e3c72; }
        .content { padding: 30px; }
        .tab-content { display: none; }
        .tab-content.active { display: block; animation: fadeIn 0.3s; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .kpi-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .kpi-card { color: white; padding: 25px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        .kpi-card.green { background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%); }
        .kpi-card.orange { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); }
        .kpi-card.blue { background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); }
        .kpi-card.pink { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); }
        .kpi-label { font-size: 13px; opacity: 0.9; margin-bottom: 10px; }
        .kpi-value { font-size: 32px; font-weight: bold; margin-bottom: 5px; }
        .kpi-progress { font-size: 12px; opacity: 0.9; }
        .progress-bar { width: 100%; height: 8px; background: rgba(255,255,255,0.3); border-radius: 4px; margin-top: 10px; overflow: hidden; }
        .progress-fill { height: 100%; background: white; transition: width 0.5s; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; background: white; box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
        th { background: #f8f9fa; padding: 15px; text-align: left; font-weight: 600; color: #333; border-bottom: 2px solid #dee2e6; }
        td { padding: 12px 15px; border-bottom: 1px solid #e9ecef; }
        tr:hover { background: #f8f9fa; }
        .section-title { font-size: 20px; font-weight: 600; color: #333; margin: 30px 0 20px 0; padding-bottom: 10px; border-bottom: 2px solid #e9ecef; }
        input[type="checkbox"] { width: 20px; height: 20px; cursor: pointer; }
        .action-link { color: #1e3c72; cursor: pointer; text-decoration: underline dotted; }
        .action-link:hover { color: #2a5298; text-decoration: solid; }
        .modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); }
        .modal-content { background-color: white; margin: 5% auto; padding: 0; border-radius: 10px; width: 80%; max-width: 800px; max-height: 80vh; overflow-y: auto; box-shadow: 0 4px 20px rgba(0,0,0,0.3); }
        .modal-header { background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%); color: white; padding: 20px 30px; border-radius: 10px 10px 0 0; display: flex; justify-content: space-between; align-items: center; }
        .modal-header h2 { margin: 0; font-size: 22px; }
        .modal-body { padding: 30px; line-height: 1.6; }
        .modal-footer { padding: 20px 30px; background: #f8f9fa; border-radius: 0 0 10px 10px; display: flex; justify-content: flex-end; }
        .close-btn { background: transparent; border: none; color: white; font-size: 28px; cursor: pointer; padding: 0; width: 30px; height: 30px; }
        .close-btn:hover { opacity: 0.7; }
        .btn { background: #1e3c72; color: white; padding: 10px 20px; border: none; border-radius: 6px; cursor: pointer; font-size: 14px; font-weight: 600; }
        .btn:hover { background: #2a5298; }
        .login-screen { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%); display: flex; align-items: center; justify-content: center; z-index: 9999; }
        .login-box { background: white; padding: 40px; border-radius: 10px; box-shadow: 0 4px 20px rgba(0,0,0,0.3); width: 90%; max-width: 400px; }
        .login-box h2 { text-align: center; color: #1e3c72; margin-bottom: 30px; }
        .login-box input { width: 100%; padding: 12px; margin-bottom: 15px; border: 1px solid #ddd; border-radius: 6px; font-size: 14px; }
        .login-box button { width: 100%; background: #1e3c72; color: white; padding: 12px; border: none; border-radius: 6px; cursor: pointer; font-size: 16px; font-weight: 600; }
        .login-box button:hover { background: #2a5298; }
        .error-msg { color: #c62828; font-size: 14px; margin-bottom: 10px; text-align: center; }
        .hidden { display: none; }
    </style>
</head>
<body>
    <div id="loginScreen" class="login-screen">
        <div class="login-box">
            <h2>üìä ATQSG - Connexion</h2>
            <div id="errorMsg" class="error-msg hidden">Identifiants incorrects</div>
            <input type="text" id="loginUser" placeholder="Login" autocomplete="username">
            <input type="password" id="loginPass" placeholder="Mot de passe" autocomplete="current-password">
            <button onclick="login()">Se connecter</button>
        </div>
    </div>
    
    <div id="mainContent" class="hidden">
    <div class="container">
        <div class="header">
            <h1>üìä Tableau de Bord ATQSG</h1>
            <p>Plan Pluriannuel 2025-2028 | Objectif 200 adh√©rents</p>
        </div>
        
        <div class="tabs">
            <button class="tab active" onclick="showTab('dashboard')">üìä Dashboard</button>
            <button class="tab" onclick="showTab('adherents')">üë• Adh√©rents</button>
            <button class="tab" onclick="showTab('budget')">üí∞ Budget</button>
            <button class="tab" onclick="showTab('projets')">üöÄ Projets</button>
            <button class="tab" onclick="showTab('todo')">‚úÖ To Do</button>
        </div>
        
        <div class="content">
            <!-- DASHBOARD -->
            <div id="dashboard" class="tab-content active">
                <div class="kpi-grid">
                    <div class="kpi-card orange">
                        <div class="kpi-label">Adh√©rents Saison 2025/2026</div>
                        <div class="kpi-value">143</div>
                        <div class="kpi-progress">-1 vs saison pr√©c√©dente (144)</div>
                        <div class="progress-bar"><div class="progress-fill" style="width: 71.5%"></div></div>
                        <div style="margin-top: 10px; font-size: 11px;">Objectif 2028 : 200 adh√©rents</div>
                    </div>
                    <div class="kpi-card blue">
                        <div class="kpi-label">√âcole de Tennis</div>
                        <div class="kpi-value">97</div>
                        <div class="kpi-progress">68% des adh√©rents (+2 vs 2024)</div>
                    </div>
                </div>
            </div>
            
            <!-- ADH√âRENTS -->
            <div id="adherents" class="tab-content">
                <div class="section-title">üìä Donn√©es adh√©rents par saison</div>
                <table>
                    <tr><th></th><th>2026</th><th>2025</th><th>2024</th><th>2023</th></tr>
                    <tr><td><strong>Saint Germain</strong></td><td>24</td><td>26</td><td>37</td><td>48</td></tr>
                    <tr><td><strong>Quincieux</strong></td><td>86</td><td>86</td><td>87</td><td>99</td></tr>
                    <tr><td><strong>Autres</strong></td><td>33</td><td>32</td><td>39</td><td>47</td></tr>
                    <tr style="background: #f8f9fa; font-weight: bold;"><td><strong>Total</strong></td><td>143</td><td>144</td><td>163</td><td>194</td></tr>
                    <tr style="height: 20px;"><td colspan="5"></td></tr>
                    <tr><td><strong>Adultes simples</strong></td><td>45</td><td>41</td><td>51</td><td></td></tr>
                    <tr><td><strong>Enfants simples</strong></td><td>1</td><td>5</td><td></td><td></td></tr>
                    <tr><td><strong>Adultes cours</strong></td><td>29</td><td>25</td><td>32</td><td></td></tr>
                    <tr><td><strong>Mini tennis</strong></td><td>7</td><td>5</td><td>5</td><td></td></tr>
                    <tr><td><strong>Enfant d√©butant</strong></td><td>17</td><td>14</td><td>16</td><td></td></tr>
                    <tr><td><strong>Enfant perfectionnement</strong></td><td>44</td><td>51</td><td>51</td><td></td></tr>
                    <tr><td><strong>Formule d√©couverte</strong></td><td></td><td></td><td></td><td></td></tr>
                </table>
            </div>
            
            <!-- BUDGET -->
            <div id="budget" class="tab-content">
                <div class="section-title">üí∞ Indicateurs budg√©taires 2025/2026</div>
                <div class="kpi-grid">
                    <div class="kpi-card blue">
                        <div class="kpi-label">Adh√©sions</div>
                        <div class="kpi-value">37 080‚Ç¨</div>
                        <div class="kpi-progress">Objectif : 38 050‚Ç¨</div>
                        <div class="progress-bar"><div class="progress-fill" style="width: 97.5%"></div></div>
                        <div style="margin-top: 10px; font-size: 11px;">97.5% de l'objectif atteint</div>
                    </div>
                    <div class="kpi-card orange">
                        <div class="kpi-label">Locations horaire</div>
                        <div class="kpi-value">769‚Ç¨20</div>
                        <div class="kpi-progress">Objectif : 1 560‚Ç¨</div>
                        <div class="progress-bar"><div class="progress-fill" style="width: 49.3%"></div></div>
                        <div style="margin-top: 10px; font-size: 11px;">49.3% de l'objectif atteint</div>
                    </div>
                    <div class="kpi-card green">
                        <div class="kpi-label">Stages</div>
                        <div class="kpi-value">320‚Ç¨</div>
                        <div class="kpi-progress">Objectif : 3 110‚Ç¨</div>
                        <div class="progress-bar"><div class="progress-fill" style="width: 10.3%"></div></div>
                        <div style="margin-top: 10px; font-size: 11px;">10.3% de l'objectif atteint</div>
                    </div>
                </div>
            </div>
            
            <!-- PROJETS -->
            <div id="projets" class="tab-content">
                <div class="section-title">üóìÔ∏è Projets 2026</div>
                <table>
                    <tr><th>Projet</th><th>√âch√©ance</th><th>Budget</th><th>Statut</th></tr>
                    <tr><td><strong>√âclairage LED courts 3 & 4</strong></td><td>Sept 2026</td><td>15-20K‚Ç¨</td><td>√Ä lancer</td></tr>
                    <tr><td><strong>Communication renforc√©e</strong></td><td>Jan 2026</td><td>-</td><td>√Ä lancer</td></tr>
                    <tr><td><strong>Arbre de No√´l</strong></td><td>13 D√©c 2025</td><td>300‚Ç¨</td><td>Planifi√©</td></tr>
                    <tr><td><strong>Laser Game ados</strong></td><td>23 Mai 2026</td><td>100‚Ç¨</td><td>√Ä planifier</td></tr>
                    <tr><td><strong>Journ√©e Portes Ouvertes</strong></td><td>13 Juin 2026</td><td>800‚Ç¨</td><td>√Ä planifier</td></tr>
                    <tr><td><strong>Rafra√Æchissement locaux</strong></td><td>√ât√© 2026</td><td>2K‚Ç¨</td><td>Bloqu√©</td></tr>
                </table>
                <div class="section-title">üóìÔ∏è Projets 2027</div>
                <table>
                    <tr><th>Projet</th><th>√âch√©ance</th><th>Budget</th><th>Statut</th></tr>
                    <tr><td><strong>Serrures connect√©es</strong></td><td>Sept 2027</td><td>10K‚Ç¨ (20K‚Ç¨ sur 5 ans)</td><td>Planifi√©</td></tr>
                    <tr><td><strong>Labellisation IdClub FFT</strong></td><td>Juin 2027</td><td>1K‚Ç¨</td><td>Planifi√©</td></tr>
                </table>
                <div class="section-title">üóìÔ∏è Projets 2028</div>
                <table>
                    <tr><th>Projet</th><th>√âch√©ance</th><th>Budget</th><th>Statut</th></tr>
                    <tr><td><strong>Moquette courts 3 & 4</strong></td><td>√ât√© 2028</td><td>70K‚Ç¨</td><td>Planifi√©</td></tr>
                    <tr><td><strong>√âtude Padel</strong></td><td>D√©c 2028</td><td>2K‚Ç¨</td><td>Planifi√©</td></tr>
                </table>
            </div>
            
            <!-- TO DO -->
            <div id="todo" class="tab-content">
                <div class="section-title">üö® Novembre 2025</div>
                <table>
                    <tr><th style="width:50px">‚úì</th><th style="width:150px">Responsable</th><th>Action</th><th style="width:120px">Date</th></tr>
                    <tr><td><input type="checkbox" onchange="saveTodo(this, 'nov-1')"></td><td>Bureau</td><td><span class="action-link" onclick="openModal('eclairage-etude')">Lancer √©tude faisabilit√© √©clairage LED</span></td><td>15/11/2025</td></tr>
                    <tr><td><input type="checkbox" onchange="saveTodo(this, 'nov-2')"></td><td>Pr√©sident</td><td><span class="action-link" onclick="openModal('plafond')">Relance mairie Quincieux - plafond club house</span></td><td>08/11/2025</td></tr>
                    <tr><td><input type="checkbox" onchange="saveTodo(this, 'nov-3')"></td><td>Pr√©sident</td><td><span class="action-link" onclick="openModal('fuite')">Relance mairie Quincieux - fuite toit</span></td><td>08/11/2025</td></tr>
                    <tr><td><input type="checkbox" onchange="saveTodo(this, 'nov-4')"></td><td>Pr√©sident</td><td><span class="action-link" onclick="openModal('sanitaires')">Relance mairie St-Germain - sanitaires</span></td><td>08/11/2025</td></tr>
                    <tr><td><input type="checkbox" onchange="saveTodo(this, 'nov-5')"></td><td>Pr√©sident</td><td><span class="action-link" onclick="openModal('serrure')">Relance mairie St-Germain - serrure court couvert</span></td><td>08/11/2025</td></tr>
                    <tr><td><input type="checkbox" onchange="saveTodo(this, 'nov-6')"></td><td>Pr√©sident + Tr√©sorier</td><td><span class="action-link" onclick="openModal('sponsors')">Pr√©parer dossier sponsors</span></td><td>30/11/2025</td></tr>
                    <tr><td><input type="checkbox" onchange="saveTodo(this, 'nov-7')"></td><td>Bureau</td><td><span class="action-link" onclick="openModal('equipe')">Constitution √©quipe projet 2026-2028</span></td><td>30/11/2025</td></tr>
                    <tr><td><input type="checkbox" onchange="saveTodo(this, 'nov-8')"></td><td>Commission sportive</td><td><span class="action-link" onclick="openModal('tournoi')">Organiser tournoi multi-chances</span></td><td>30/11/2025</td></tr>
                </table>
                
                <div class="section-title">üìÖ D√©cembre 2025</div>
                <table>
                    <tr><th style="width:50px">‚úì</th><th style="width:150px">Responsable</th><th>Action</th><th style="width:120px">Date</th></tr>
                    <tr><td><input type="checkbox" onchange="saveTodo(this, 'dec-1')"></td><td>Commission animation</td><td>Organisation Arbre de No√´l</td><td>13/12/2025</td></tr>
                    <tr><td><input type="checkbox" onchange="saveTodo(this, 'dec-2')"></td><td>Pr√©sident</td><td>Planifier 1√®re r√©union √©quipe projet</td><td>15/12/2025</td></tr>
                    <tr><td><input type="checkbox" onchange="saveTodo(this, 'dec-3')"></td><td>Tr√©sorier</td><td>Obtenir 3 devis √©clairage LED</td><td>20/12/2025</td></tr>
                    <tr><td><input type="checkbox" onchange="saveTodo(this, 'dec-4')"></td><td>Tr√©sorier</td><td>Bilan financier 2025 provisoire</td><td>31/12/2025</td></tr>
                </table>
                
                <div class="section-title">üìÖ Janvier 2026</div>
                <table>
                    <tr><th style="width:50px">‚úì</th><th style="width:150px">Responsable</th><th>Action</th><th style="width:120px">Date</th></tr>
                    <tr><td><input type="checkbox" onchange="saveTodo(this, 'jan-1')"></td><td>Tr√©sorier + Pr√©sident</td><td>Finaliser plan financement √©clairage</td><td>15/01/2026</td></tr>
                    <tr><td><input type="checkbox" onchange="saveTodo(this, 'jan-2')"></td><td>Bureau</td><td>D√©ploiement nouveau syst√®me tarifaire</td><td>15/01/2026</td></tr>
                    <tr><td><input type="checkbox" onchange="saveTodo(this, 'jan-3')"></td><td>Secr√©taire</td><td>Mise en place newsletter mensuelle</td><td>31/01/2026</td></tr>
                    <tr><td><input type="checkbox" onchange="saveTodo(this, 'jan-4')"></td><td>√âquipe projet</td><td>Lancer campagne sponsors</td><td>31/01/2026</td></tr>
                </table>
                
                <div class="section-title">üìÖ F√©vrier - Mars 2026</div>
                <table>
                    <tr><th style="width:50px">‚úì</th><th style="width:150px">Responsable</th><th>Action</th><th style="width:120px">Date</th></tr>
                    <tr><td><input type="checkbox" onchange="saveTodo(this, 'fev-1')"></td><td>Pr√©sident</td><td>Validation mairies - projet √©clairage</td><td>28/02/2026</td></tr>
                    <tr><td><input type="checkbox" onchange="saveTodo(this, 'fev-2')"></td><td>√âquipe projet</td><td>Relance prospects sponsors</td><td>28/02/2026</td></tr>
                    <tr><td><input type="checkbox" onchange="saveTodo(this, 'mar-1')"></td><td>Bureau + Mairie</td><td>D√©finir r√®gles gestion √©clairage</td><td>31/03/2026</td></tr>
                    <tr><td><input type="checkbox" onchange="saveTodo(this, 'mar-2')"></td><td>Pr√©sident + Tr√©sorier</td><td>Signature contrats sponsors</td><td>31/03/2026</td></tr>
                </table>
                
                <div class="section-title">üìÖ Avril - Juin 2026</div>
                <table>
                    <tr><th style="width:50px">‚úì</th><th style="width:150px">Responsable</th><th>Action</th><th style="width:120px">Date</th></tr>
                    <tr><td><input type="checkbox" onchange="saveTodo(this, 'avr-1')"></td><td>N/A</td><td>Stage P√¢ques - planification</td><td>06/04/2026</td></tr>
                    <tr><td><input type="checkbox" onchange="saveTodo(this, 'avr-2')"></td><td>Entreprise</td><td>Planification travaux √©clairage</td><td>30/04/2026</td></tr>
                    <tr><td><input type="checkbox" onchange="saveTodo(this, 'avr-3')"></td><td>Commission communication</td><td>Mise en place visibilit√© sponsors</td><td>30/04/2026</td></tr>
                    <tr><td><input type="checkbox" onchange="saveTodo(this, 'mai-1')"></td><td>Commission animation</td><td>Organisation sortie Laser Game</td><td>23/05/2026</td></tr>
                    <tr><td><input type="checkbox" onchange="saveTodo(this, 'jui-1')"></td><td>N/A</td><td>Pr√©paration Journ√©e Portes Ouvertes</td><td>13/06/2026</td></tr>
                    <tr><td><input type="checkbox" onchange="saveTodo(this, 'jui-2')"></td><td>N/A</td><td>Stages √©t√© - organisation</td><td>29/06/2026</td></tr>
                </table>
                
                <div class="section-title">üìÖ Juillet - Septembre 2026</div>
                <table>
                    <tr><th style="width:50px">‚úì</th><th style="width:150px">Responsable</th><th>Action</th><th style="width:120px">Date</th></tr>
                    <tr><td><input type="checkbox" onchange="saveTodo(this, 'aou-1')"></td><td>Commission communication</td><td>Rafra√Æchissement locaux</td><td>31/08/2026</td></tr>
                    <tr><td><input type="checkbox" onchange="saveTodo(this, 'sep-1')"></td><td>Entreprise</td><td>R√©alisation √©clairage LED</td><td>30/09/2026</td></tr>
                </table>
            </div>
        </div>
    </div>
    </div>
    
    <div id="actionModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle"></h2>
                <button class="close-btn" onclick="closeModal()">&times;</button>
            </div>
            <div class="modal-body" id="modalBody"></div>
            <div class="modal-footer"><button class="btn" onclick="closeModal()">Fermer</button></div>
        </div>
    </div>
    
    <script>
        const actionsData = {
            'eclairage-etude': { titre: '√âtude faisabilit√© √©clairage LED', description: 'Lancer une √©tude de faisabilit√© technique et financi√®re pour l\'installation d\'√©clairages LED sur les courts 3 et 4. Comparer les solutions solaire vs raccordement √©lectrique. Identifier les contraintes r√©glementaires et les impacts sur les riverains. Pr√©parer un cahier des charges pour obtenir 3 devis d\'entreprises agr√©√©es FFT.' },
            'plafond': { titre: 'R√©paration plafond club house', description: 'Relancer la mairie de Quincieux concernant la d√©gradation du plafond du club house. Cette r√©paration est bloquante pour les travaux de rafra√Æchissement pr√©vus (peinture). Demander un calendrier d\'intervention et un engagement ferme.' },
            'fuite': { titre: 'R√©paration fuite toit', description: 'Signaler √† la mairie de Quincieux la fuite au niveau du toit qui cr√©e des zones glissantes dangereuses. Demander une intervention rapide pour s√©curiser les installations. Joindre des photos si possible.' },
            'sanitaires': { titre: 'R√©paration sanitaires Saint-Germain', description: 'Relancer la mairie de Saint-Germain concernant l\'√©tat d√©grad√© des sanitaires qui bloque l\'organisation de cours et stages sur le site. √âtablir une liste pr√©cise des r√©parations n√©cessaires et demander un calendrier d\'intervention.' },
            'serrure': { titre: 'R√©paration serrure court couvert', description: 'Signaler en urgence le probl√®me de serrure du court couvert de Saint-Germain qui entra√Æne des intrusions. Demander une intervention rapide pour s√©curiser le site et prot√©ger le mat√©riel du club.' },
            'sponsors': { titre: 'Pr√©paration dossier sponsors', description: 'Cr√©er un dossier sponsors professionnel comprenant : pr√©sentation du club, projets 2026-2028, grille tarifaire avec 4 formules (Premium, Or, Argent, Soutien), contreparties d√©taill√©es, et liste de prospects locaux √† contacter (30-40 entreprises/commerces).' },
            'equipe': { titre: 'Constitution √©quipe projet', description: 'Identifier 5-7 personnes motiv√©es pour piloter le plan pluriannuel. D√©finir les r√¥les et responsabilit√©s de chacun. Planifier les r√©unions de suivi mensuelles. Pr√©parer le calendrier et les objectifs de l\'√©quipe.' },
            'tournoi': { titre: 'Organisation tournoi multi-chances', description: 'Lancer les inscriptions pour le tournoi multi-chances qui se d√©roulera de novembre √† janvier. Cr√©er le tableau, planifier les matchs, communiquer le r√®glement. Assurer le suivi hebdomadaire et planifier la finale avec remise des prix fin janvier.' }
        };
        
        function login() {
            const user = document.getElementById('loginUser').value;
            const pass = document.getElementById('loginPass').value;
            if (user === 'ATQSG' && pass === 'Tennis@69') {
                document.getElementById('loginScreen').classList.add('hidden');
                document.getElementById('mainContent').classList.remove('hidden');
                sessionStorage.setItem('atqsg_logged', 'true');
            } else {
                document.getElementById('errorMsg').classList.remove('hidden');
            }
        }
        
        window.onload = function() {
            if (sessionStorage.getItem('atqsg_logged') === 'true') {
                document.getElementById('loginScreen').classList.add('hidden');
                document.getElementById('mainContent').classList.remove('hidden');
            }
            loadTodos();
            document.getElementById('loginPass').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') login();
            });
        };
        
        function loadTodos() { const saved = localStorage.getItem('atqsg_todos'); if (saved) { const todos = JSON.parse(saved); Object.keys(todos).forEach(key => { const checkbox = document.querySelector(`input[onchange*="${key}"]`); if (checkbox) checkbox.checked = todos[key]; }); } }
        function saveTodo(checkbox, id) { const saved = localStorage.getItem('atqsg_todos'); const todos = saved ? JSON.parse(saved) : {}; todos[id] = checkbox.checked; localStorage.setItem('atqsg_todos', JSON.stringify(todos)); }
        function showTab(tabName) { document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active')); document.querySelectorAll('.tab').forEach(t => t.classList.remove('active')); document.getElementById(tabName).classList.add('active'); event.target.classList.add('active'); }
        function openModal(actionId) { const action = actionsData[actionId]; if (!action) return; document.getElementById('modalTitle').textContent = action.titre; document.getElementById('modalBody').innerHTML = `<p>${action.description}</p>`; document.getElementById('actionModal').style.display = 'block'; }
        function closeModal() { document.getElementById('actionModal').style.display = 'none'; }
        window.onclick = function(event) { if (event.target === document.getElementById('actionModal')) closeModal(); }
    </script>
</body>
</html>
